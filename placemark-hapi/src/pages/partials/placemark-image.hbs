
<div class="card">
    {{#each placemark.img}}
        <div class="card-image">
            <figure class="image is-256x256">
                <img src={{this}}>
            </figure>
        </div>
    {{/each}}
    <div class="card-content">
        <form action="/placemark/{{placemark._id}}/uploadimage" method="POST" enctype="multipart/form-data">
            <div id="file-select" class="file has-name is-fullwidth">
                <label class="file-label">
                    <input multiple class="file-input" name="imagefile" type="file" accept="image/png, image/jpeg" >
                    <span class="file-cta">
            <span class="file-icon">
              <i class="fas fa-upload"></i>
            </span>
            <span class="file-label">
              Choose max. 10 filesâ€¦
            </span>
          </span>
                    <span class="file-name"></span>
                </label>
                <button type="submit" class="button is-info">Upload</button>
            </div>
        </form>
        <div class="card-footer">
            <a href="/placemark/{{placemark._id}}.deleteimage" class="button is-danger">
                <i class="fas fa-trash"></i>
            </a>
        </div>
    </div>
</div>

<script>
    const fileInput = document.querySelector(".file-input");
    fileInput.onchange = () => {
        if (fileInput.files.length > 0) {
            const fileName = document.querySelector(".file-name");
            fileName.textContent = "";
            for(const element of fileInput.files){
                fileName.textContent +=  element.name + ", ";
            }
        }
    };
</script>